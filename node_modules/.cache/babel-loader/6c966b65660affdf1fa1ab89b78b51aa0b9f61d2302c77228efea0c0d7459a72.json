{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { vue3Debounce } from \"vue-debounce\";\nimport axios from \"axios\";\nimport DropZone from \"dropzone-vue\";\nimport \"dropzone-vue/dist/dropzone-vue.common.css\";\nexport default {\n  components: {\n    DropZone\n  },\n  directives: {\n    debounce: vue3Debounce({\n      lock: true\n    })\n  },\n  computed: {\n    // Fungsi untuk mengecek input form apakah sudah terisi semua atau belum\n    nextPageDisabled() {\n      if (this.formIsValid.name && this.formIsValid.nik && this.formIsValid.email && this.formIsValid.phone && this.formIsValid.password && this.formIsValid.confirmPassword && this.formIsValid.date && this.formIsValid.month && this.formIsValid.year) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  data() {\n    return {\n      //data form\n      formData: {\n        name: \"\",\n        nik: \"\",\n        email: \"\",\n        phone: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n        isAgree: false,\n        date: {\n          date: \"\",\n          month: \"\",\n          year: \"\"\n        },\n        uploadKTP: null,\n        uploadSelfie: null\n      },\n      //data form valid atau tidak\n      formIsValid: {\n        name: null,\n        nik: null,\n        confirmPassword: null,\n        password: null,\n        email: null,\n        phone: null,\n        date: null,\n        month: null,\n        year: null,\n        uploadKTP: null,\n        uploadSelfie: null\n      },\n      //data proses validasi nama atau nik sedang dilakukan atau tidak\n      validation: {\n        name: false,\n        nik: false\n      },\n      //hasil message validasi\n      validationMessage: {\n        name: \"\",\n        nik: \"\",\n        confirmPassword: \"\",\n        password: \"\",\n        email: \"\",\n        phone: \"\"\n      },\n      pageNumber: 1\n    };\n  },\n  watch: {\n    //pengecekan data input user\n    formData: {\n      handler(newValue, oldValue) {\n        if (newValue.password != \"\") {\n          if (newValue.password.length < 6) {\n            this.formIsValid.password = false;\n            this.validationMessage.password = \"Password minimal 6 karakter!\";\n          } else {\n            this.formIsValid.password = true;\n            this.validationMessage.password = \"\";\n          }\n        } else {\n          this.formIsValid.password = null;\n          this.validationMessage.password = \"\";\n        }\n        if (newValue.password != \"\" && newValue.confirmPassword != \"\") {\n          if (newValue.password === newValue.confirmPassword) {\n            this.formIsValid.confirmPassword = true;\n            this.validationMessage.confirmPassword = \"\";\n          } else {\n            this.formIsValid.confirmPassword = false;\n            this.validationMessage.confirmPassword = \"Password harus sama!\";\n          }\n        }\n        if (newValue.email != \"\") {\n          if (newValue.email.includes(\"@\")) {\n            this.formIsValid.email = true;\n            this.validationMessage.email = \"\";\n          } else {\n            this.formIsValid.email = false;\n            this.validationMessage.email = \"Format email tidak valid!\";\n          }\n        } else {\n          if (oldValue.email != \"\") {\n            this.validationMessage.email = \"\";\n            this.formIsValid.email = false;\n          }\n        }\n        if (newValue.nik != \"\") {\n          this.formData.nik = newValue.nik.replace(/\\D+/g, \"\");\n        }\n        if (newValue.phone != \"\") {\n          this.formData.phone = newValue.phone.replace(/\\D+/g, \"\");\n          this.formIsValid.phone = true;\n        } else {\n          if (oldValue.phone != \"\") {\n            this.formIsValid.phone = false;\n          }\n        }\n        if (newValue.date.date != \"\") {\n          this.formIsValid.date = true;\n          if (isNaN(parseInt(newValue.date.date))) {\n            this.formData.date.date = newValue.date.month.replace(/\\D+/g, \"\");\n          }\n        } else {\n          if (oldValue.date.date != \"\") {\n            this.formIsValid.date = true;\n          }\n        }\n        if (newValue.date.month != \"\") {\n          this.formIsValid.month = true;\n          if (isNaN(parseInt(newValue.date.month))) {\n            this.formData.date.month = newValue.date.month.replace(/\\D+/g, \"\");\n          }\n        } else {\n          if (oldValue.date.month != \"\") {\n            this.formIsValid.month = false;\n          }\n        }\n        if (newValue.date.year != \"\") {\n          if (isNaN(parseInt(newValue.date.year))) {\n            this.formData.date.year = newValue.date.year.replace(/\\D+/g, \"\");\n          }\n          if (newValue.date.year.length < 3) {\n            this.formIsValid.year = false;\n          } else {\n            this.formIsValid.year = true;\n          }\n        } else {\n          if (oldValue.date.year != \"\") {\n            this.formIsValid.year = false;\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    putKTPImage(item) {\n      this.formData.uploadKTP = item.file;\n      this.formIsValid.uploadKTP = true;\n    },\n    removeKTPImage() {\n      this.formData.uploadKTP = null;\n      this.formIsValid.uploadKTP = false;\n    },\n    putSelfieImage(item) {\n      this.formData.uploadSelfie = item.file;\n      this.formIsValid.uploadSelfie = true;\n    },\n    removeSelfieImage() {\n      this.formData.uploadSelfie = null;\n      this.formData.uploadSelfie = false;\n    },\n    submitFormDisabled() {\n      if (this.formIsValid.uploadKTP && this.formIsValid.uploadSelfie && this.formData.isAgree) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    validationMonth() {\n      const month = parseInt(this.formData.date.month);\n      if (!isNaN(month)) {\n        if (month > 12) {\n          this.formData.date.month = \"12\";\n        } else if (month < 10) {\n          this.formData.date.month = \"0\" + month;\n        } else {\n          this.formData.date.month = month.toString();\n        }\n        this.validationDate();\n      }\n    },\n    validationDate() {\n      const date = parseInt(this.formData.date.date);\n      const month = parseInt(this.formData.date.month);\n      let maxDate = null;\n      if (!isNaN(date)) {\n        if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\n          if (date > 31) {\n            maxDate = 31;\n          }\n        } else if (month == 2) {\n          if (date > 28) {\n            maxDate = 28;\n          }\n        } else {\n          if (date > 30) {\n            maxDate = 30;\n          }\n        }\n        if (date < 10) {\n          if (date == 0) {\n            this.formData.date.date = \"01\";\n          } else {\n            this.formData.date.date = \"0\" + date;\n          }\n        } else {\n          if (maxDate != null) {\n            if (date <= maxDate) {\n              this.formData.date.date = date.toString();\n            } else {\n              this.formData.date.date = maxDate.toString();\n            }\n          } else {\n            this.formData.date.date = date.toString();\n          }\n        }\n      }\n    },\n    nextPage() {\n      this.pageNumber = 2;\n    },\n    previousPage() {\n      this.pageNumber = 1;\n    },\n    //proses validasi nama\n    nameTyping() {\n      this.validation.name = true;\n      this.nameNIKValidation();\n    },\n    //proses validasi nik\n    nikTyping() {\n      this.validation.nik = true;\n      this.nameNIKValidation();\n    },\n    //proses validasi nik dan nama\n    nameNIKValidation() {\n      const data = {\n        name: this.formData.name,\n        nik: this.formData.nik\n      };\n      const config = {\n        method: \"post\",\n        url: this.$site_url + \"/member/nik_validation\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        data: data\n      };\n      if (data.name != \"\" && data.nik != \"\" && data.nik.length == 16) {\n        axios(config).then(response => {\n          this.validation.name = false;\n          this.validation.nik = false;\n          this.formIsValid.name = false;\n          this.formIsValid.nik = false;\n          const message = response.data.message;\n          const status = response.data.status;\n          console.log(status);\n          if (status.toLowerCase() == \"ok\") {\n            this.validationMessage.name = \"NIK dan Nama valid\";\n            this.validationMessage.nik = \"\";\n            this.formIsValid.name = true;\n            this.formIsValid.nik = true;\n            console.log(this.formIsValid);\n          } else {\n            this.validationMessage.name = message;\n            this.validationMessage.nik = \"\";\n            this.formIsValid.name = false;\n            this.formIsValid.nik = false;\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        if (data.name == \"\") {\n          this.formIsValid.name = false;\n          this.validationMessage.name = \"Nama wajib diisi!\";\n        } else {\n          this.formIsValid.name = null;\n          this.validationMessage.name = \"\";\n        }\n        if (data.nik == \"\") {\n          this.formIsValid.nik = false;\n          this.validationMessage.nik = \"NIK wajib diisi!\";\n        } else {\n          if (data.nik.length < 16) {\n            this.formIsValid.nik = false;\n            this.validationMessage.nik = \"NIK minimal 16 angka!\";\n          } else {\n            this.formIsValid.nik = null;\n            this.validationMessage.nik = \"\";\n          }\n        }\n      }\n    },\n    //fungsi submit form\n    submitForm() {\n      const data = {\n        nik: this.formData.nik,\n        name: this.formData.name,\n        email: this.formData.email,\n        phone: this.formData.phone,\n        password: this.formData.password,\n        password_confirmation: this.formData.confirmPassword,\n        dob: this.formData.date.year + \"-\" + this.formData.date.month + \"-\" + this.formData.date.date,\n        ktp: this.formData.uploadKTP,\n        selfie: this.formData.uploadSelfie\n      };\n      const config = {\n        method: \"post\",\n        url: this.$site_url + \"/member/register\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n          // \"AccessControl-Allow-Origin\": \"http://localhost:8080\"\n          // 'Access-Control-Allow-Origin': '*',\n        },\n\n        data: data\n      };\n      axios(config).then(response => {\n        const status = response.data.status;\n        if (status.toLowerCase() == \"ok\") {\n          // alert(\"Submit berhasil\");\n          this.$router.push(\"/register-success\");\n        } else {\n          alert(\"Ada error\");\n          const messages = response.data.message.split(\",\");\n          console.log(messages);\n          messages.forEach(message => {\n            if (message.toLowerCase().includes(\"name\") || message.toLowerCase().includes(\"nama\")) {\n              this.validationMessage.name = message;\n            }\n            if (message.toLowerCase().includes(\"nik\")) {\n              this.validationMessage.nik = message;\n            }\n            if (message.toLowerCase().includes(\"email\")) {\n              this.validationMessage.email = message;\n            }\n            if (message.toLowerCase().includes(\"phone\") || message.toLowerCase().includes(\"telepon\") || message.toLowerCase().includes(\"number\")) {\n              this.validationMessage.phone = message;\n            }\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["vue3Debounce","axios","DropZone","components","directives","debounce","lock","computed","nextPageDisabled","formIsValid","name","nik","email","phone","password","confirmPassword","date","month","year","data","formData","isAgree","uploadKTP","uploadSelfie","validation","validationMessage","pageNumber","watch","handler","newValue","oldValue","length","includes","replace","isNaN","parseInt","deep","methods","putKTPImage","item","file","removeKTPImage","putSelfieImage","removeSelfieImage","submitFormDisabled","validationMonth","toString","validationDate","maxDate","nextPage","previousPage","nameTyping","nameNIKValidation","nikTyping","config","method","url","$site_url","headers","then","response","message","status","console","log","toLowerCase","catch","error","submitForm","password_confirmation","dob","ktp","selfie","$router","push","alert","messages","split","forEach"],"sourceRoot":"","sources":["D:\\Personal\\rimba-frontend\\src\\components\\career\\modal\\DropZoneComp.vue"],"sourcesContent":["<template>\r\n  <section class=\"content-wrap _custom-content-wrap\">\r\n    <div class=\"container form-flex\">\r\n      <div class=\"mt-4\">\r\n        <h3 class=\"text-center w-80 title-reg\">Daftar Jadi Keluarga PERSIB</h3>\r\n        <p class=\"text-center subtitle-reg\">\r\n          Isi data di bawah ini menggunakan NIK dan data kamu untuk melakukan\r\n          registrasi di PERSIB\r\n        </p>\r\n        <form @submit.prevent=\"submitForm\" class=\"w-form\">\r\n          <section v-if=\"pageNumber == 1\">\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Data KTP</strong>\r\n              <div\r\n                :class=\"\r\n                  this.formIsValid.nik == true || this.formIsValid.nik == null\r\n                    ? ''\r\n                    : 'has-error'\r\n                \"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Nomor NIK (16 digit)\"\r\n                  name=\"nik\"\r\n                  v-model=\"formData.nik\"\r\n                  v-debounce:1000ms=\"nikTyping\"\r\n                  maxlength=\"16\"\r\n                />\r\n              </div>\r\n              <div\r\n                v-if=\"\r\n                  this.formIsValid.nik != null &&\r\n                  this.validationMessage.nik.length > 0\r\n                \"\r\n                :class=\"[\r\n                  this.formIsValid.nik ? 'alert-success' : 'alert-danger',\r\n                  'alert mt-2',\r\n                ]\"\r\n                role=\"alert\"\r\n                style=\"padding: 10px 10px 10px 10px !important\"\r\n              >\r\n                {{ this.validationMessage.nik }}\r\n              </div>\r\n              <div class=\"my-2\">\r\n                <div\r\n                  :class=\"\r\n                    this.formIsValid.name == true ||\r\n                    this.formIsValid.name == null\r\n                      ? ''\r\n                      : 'has-error'\r\n                  \"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Nama Lengkap\"\r\n                    name=\"name\"\r\n                    v-model=\"formData.name\"\r\n                    v-debounce:1000ms=\"nameTyping\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div\r\n                v-if=\"\r\n                  this.formIsValid.name != null &&\r\n                  this.validationMessage.name.length > 0\r\n                \"\r\n                :class=\"[\r\n                  this.formIsValid.name ? 'alert-success' : 'alert-danger',\r\n                  'alert mt-2',\r\n                ]\"\r\n                role=\"alert\"\r\n                style=\"padding: 10px 10px 10px 10px !important\"\r\n              >\r\n                {{ this.validationMessage.name }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Data Diri</strong>\r\n              <div class=\"my-2\">\r\n                <div\r\n                  :class=\"\r\n                    this.formIsValid.email == true ||\r\n                    this.formIsValid.email == null\r\n                      ? ''\r\n                      : 'has-error'\r\n                  \"\r\n                >\r\n                  <input\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"E-mail Address\"\r\n                    name=\"email\"\r\n                    v-model=\"formData.email\"\r\n                    :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  />\r\n                </div>\r\n                <p class=\"text-danger text-end error-label\">\r\n                  {{ this.validationMessage.email }}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Nomor HP\"\r\n                  name=\"phone\"\r\n                  v-model=\"formData.phone\"\r\n                  :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                />\r\n              </div>\r\n              <p class=\"text-danger text-end error-label\">\r\n                {{ this.validationMessage.phone }}\r\n              </p>\r\n              <div class=\"row\">\r\n                <div\r\n                  class=\"col-xs-6 col-md-3\"\r\n                  :class=\"\r\n                    this.formIsValid.date == true ||\r\n                    this.formIsValid.date == null\r\n                      ? ''\r\n                      : 'has-error'\r\n                  \"\r\n                >\r\n                  <input\r\n                    name=\"tanggal\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Tgl\"\r\n                    v-model=\"formData.date.date\"\r\n                    maxlength=\"2\"\r\n                    v-debounce:500ms=\"validationDate\"\r\n                    :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  />\r\n                </div>\r\n                <div\r\n                  class=\"col-xs-6 col-md-4\"\r\n                  :class=\"\r\n                    this.formIsValid.month == true ||\r\n                    this.formIsValid.month == null\r\n                      ? ''\r\n                      : 'has-error'\r\n                  \"\r\n                >\r\n                  <input\r\n                    name=\"bulan\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Bulan\"\r\n                    v-model=\"formData.date.month\"\r\n                    maxlength=\"2\"\r\n                    v-debounce:500ms=\"validationMonth\"\r\n                    :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  />\r\n                </div>\r\n                <div\r\n                  class=\"col-xs-6 col-md-5\"\r\n                  :class=\"\r\n                    this.formIsValid.year == true ||\r\n                    this.formIsValid.year == null\r\n                      ? ''\r\n                      : 'has-error'\r\n                  \"\r\n                >\r\n                  <input\r\n                    name=\"tahun\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Tahun\"\r\n                    v-model=\"formData.date.year\"\r\n                    maxlength=\"4\"\r\n                    :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Password</strong>\r\n              <div\r\n                class=\"my-2\"\r\n                :class=\"\r\n                  this.formIsValid.password == true ||\r\n                  this.formIsValid.password == null\r\n                    ? ''\r\n                    : 'has-error'\r\n                \"\r\n              >\r\n                <input\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Password\"\r\n                  name=\"password\"\r\n                  v-model=\"formData.password\"\r\n                  :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                />\r\n                <p class=\"text-danger text-end error-label\">\r\n                  {{ this.validationMessage.password }}\r\n                </p>\r\n              </div>\r\n              <div\r\n                class=\"mb-3\"\r\n                :class=\"\r\n                  this.formIsValid.confirmPassword == true ||\r\n                  this.formIsValid.confirmPassword == null\r\n                    ? ''\r\n                    : 'has-error'\r\n                \"\r\n              >\r\n                <div>\r\n                  <input\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Confirm Password\"\r\n                    name=\"confirmPassword\"\r\n                    v-model=\"formData.confirmPassword\"\r\n                    :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  />\r\n                </div>\r\n                <p class=\"text-danger text-end error-label\">\r\n                  {{ this.validationMessage.confirmPassword }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"d-grid\">\r\n              <button\r\n                class=\"btn btn-primary btn-lg btn-block btn-custom\"\r\n                type=\"button\"\r\n                :disabled=\"nextPageDisabled\"\r\n                @click=\"nextPage\"\r\n              >\r\n                Lanjut\r\n              </button>\r\n            </div>\r\n          </section>\r\n\r\n          <section v-else>\r\n            <div class=\"my-3\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-back btn-lg\"\r\n                @click=\"previousPage\"\r\n              >\r\n                <span\r\n                  class=\"glyphicon glyphicon-chevron-left\"\r\n                  aria-hidden=\"true\"\r\n                ></span>\r\n                Kembali\r\n              </button>\r\n            </div>\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Verifikasi Identitas</strong>\r\n              <div class=\"alert alert-warning mt-2\" role=\"alert\">\r\n                <p>\r\n                  Proses verifikasi membutuhkan waktu dan hanya dilakukan sekali\r\n                  saja dalam proses registrasi\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Upload Foto KTP</strong>\r\n              <DropZone\r\n                :dropzoneClassName=\"'upload-box'\"\r\n                :acceptedFiles=\"['image']\"\r\n                :multipleUpload=\"false\"\r\n                id=\"fotoKTP\"\r\n                url=\"window.localtion\"\r\n                @addedFile=\"putKTPImage\"\r\n                @removedFile=\"removeKTPImage\"\r\n                :maxFiles=\"1\"\r\n              >\r\n                <template v-slot:message>\r\n                  <div style=\"\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"40\"\r\n                      height=\"40\"\r\n                      fill=\"currentColor\"\r\n                      class=\"bi bi-cloud-arrow-up\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path\r\n                        fill-rule=\"evenodd\"\r\n                        d=\"M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z\"\r\n                      />\r\n                      <path\r\n                        d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <strong style=\"display: block\">Drag and Drop here</strong>\r\n                  <strong style=\"display: block\">or</strong>\r\n                  <strong style=\"display: block\" class=\"text-primary\"\r\n                    >Browse files</strong\r\n                  >\r\n                </template>\r\n              </DropZone>\r\n            </div>\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Upload Foto Selfie</strong>\r\n              <DropZone\r\n                :dropzoneClassName=\"'upload-box'\"\r\n                :acceptedFiles=\"['image']\"\r\n                :multipleUpload=\"false\"\r\n                id=\"fotoSelfie\"\r\n                url=\"window.localtion\"\r\n                @addedFile=\"putSelfieImage\"\r\n                @removedFile=\"removeSelfieImage\"\r\n                :maxFiles=\"1\"\r\n              >\r\n                <template v-slot:message>\r\n                  <div style=\"\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"40\"\r\n                      height=\"40\"\r\n                      fill=\"currentColor\"\r\n                      class=\"bi bi-cloud-arrow-up\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path\r\n                        fill-rule=\"evenodd\"\r\n                        d=\"M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z\"\r\n                      />\r\n                      <path\r\n                        d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <strong style=\"display: block\">Drag and Drop here</strong>\r\n                  <strong style=\"display: block\">or</strong>\r\n                  <strong style=\"display: block\" class=\"text-primary\"\r\n                    >Browse files</strong\r\n                  >\r\n                </template>\r\n              </DropZone>\r\n            </div>\r\n            <div class=\"mb-3 group-form\">\r\n              <strong>Syarat & Ketentuan</strong>\r\n              <div class=\"checkbox my-3\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  id=\"flexCheckDefault\"\r\n                  :disabled=\"!formIsValid.name || !formIsValid.nik\"\r\n                  v-model=\"formData.isAgree\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                  <span>Saya setuju dengan </span\r\n                  ><strong>Syarat dan Ketentuan </strong\r\n                  ><span>yang berlaku di aplikasi PERSIB</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <button\r\n              class=\"btn btn-primary btn-lg btn-block btn-custom\"\r\n              type=\"submit\"\r\n              @click=\"nextPage\"\r\n              :disabled=\"submitFormDisabled()\"\r\n            >\r\n              Daftar\r\n            </button>\r\n          </section>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style>\r\nstrong {\r\n  color: #898989;\r\n}\r\n\r\nbody {\r\n  background-color: #f5f5f5 !important;\r\n}\r\n\r\n.form-flex {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.container.form-flex {\r\n  width: 450px !important;\r\n}\r\n.content-wrap._custom-content-wrap {\r\n  padding: 3rem 3rem 7rem 3rem !important;\r\n}\r\n.header {\r\n  color: #173c9e !important;\r\n  font-weight: bold;\r\n}\r\n\r\n.noBg {\r\n  background-color: transparent !important;\r\n}\r\n\r\n.btn-back {\r\n  background-color: white !important;\r\n  border-color: gray !important;\r\n  color: gray !important;\r\n}\r\n\r\n.btn-back:hover {\r\n  background-color: rgb(228, 228, 228) !important;\r\n  border-color: gray !important;\r\n  color: gray !important;\r\n}\r\n\r\n.btn-custom {\r\n  background-color: #fff500 !important;\r\n  border-color: #fff500 !important;\r\n  color: #173c9e !important;\r\n  font-weight: bold !important;\r\n}\r\n\r\n.btn-custom:disabled {\r\n  background-color: #a0a5ab !important;\r\n  border-color: #a0a5ab !important;\r\n  color: white !important;\r\n}\r\n.w-form {\r\n  width: 400px !important;\r\n  margin: auto;\r\n}\r\n.icon-validation {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  width: auto;\r\n  bottom: 5px;\r\n  right: 10px;\r\n  margin-top: 0;\r\n  font-size: 20px;\r\n}\r\n\r\n.spinner-validation {\r\n  position: absolute;\r\n  width: auto;\r\n  z-index: 1000;\r\n  bottom: 5px;\r\n  right: 15px;\r\n  margin-top: 0;\r\n}\r\n\r\n.error-label {\r\n  font-size: 9pt;\r\n}\r\n.form-check-label {\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n  font-family: \"Lexend\", sans-serif;\r\n  color: rgba(0, 0, 0, 0.35);\r\n}\r\n.upload-box {\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  min-height: var(--dropzone-min-height);\r\n  border: 1px dashed gray;\r\n  border-radius: 4px;\r\n  padding: 4px;\r\n  background: white;\r\n  margin-top: 0.5rem;\r\n}\r\n.title-reg {\r\n  color: #030b88;\r\n  font-weight: 700;\r\n  font-family: \"Persib Custom Bold\";\r\n}\r\n.subtitle-reg {\r\n  font-family: \"Poppins\", sans-serif;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  color: rgba(0, 0, 0, 0.5);\r\n}\r\n.group-form {\r\n  font-family: \"Lexend\", sans-serif;\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  line-height: 16px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n}\r\n.group-form input {\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n}\r\n.alert-success {\r\n  text-align: center;\r\n  border-radius: 6px !important;\r\n  background: rgba(78, 119, 77, 0.1) !important;\r\n  border: 1px solid rgba(100, 169, 115, 0.25) !important;\r\n  color: #28843c !important;\r\n  font-weight: 400;\r\n}\r\n.alert-danger {\r\n  text-align: center;\r\n  background: rgba(221, 51, 51, 0.1) !important;\r\n  border: 1px solid rgba(233, 33, 39, 0.25) !important;\r\n  border-radius: 6px !important;\r\n  color: #dd3333 !important;\r\n  font-weight: 400;\r\n}\r\n.alert-warning {\r\n  background: #fdebd0;\r\n  opacity: 0.9;\r\n  border-radius: 6px !important;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n  text-align: center;\r\n\r\n  color: rgba(0, 0, 0, 0.5);\r\n}\r\n.btn-back {\r\n  font-size: 13px !important;\r\n  padding: 6px 30px !important;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { vue3Debounce } from \"vue-debounce\";\r\nimport axios from \"axios\";\r\nimport DropZone from \"dropzone-vue\";\r\nimport \"dropzone-vue/dist/dropzone-vue.common.css\";\r\n\r\nexport default {\r\n  components: {\r\n    DropZone,\r\n  },\r\n  directives: {\r\n    debounce: vue3Debounce({ lock: true }),\r\n  },\r\n  computed: {\r\n    // Fungsi untuk mengecek input form apakah sudah terisi semua atau belum\r\n    nextPageDisabled() {\r\n      if (\r\n        this.formIsValid.name &&\r\n        this.formIsValid.nik &&\r\n        this.formIsValid.email &&\r\n        this.formIsValid.phone &&\r\n        this.formIsValid.password &&\r\n        this.formIsValid.confirmPassword &&\r\n        this.formIsValid.date &&\r\n        this.formIsValid.month &&\r\n        this.formIsValid.year\r\n      ) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      //data form\r\n      formData: {\r\n        name: \"\",\r\n        nik: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        isAgree: false,\r\n        date: {\r\n          date: \"\",\r\n          month: \"\",\r\n          year: \"\",\r\n        },\r\n        uploadKTP: null,\r\n        uploadSelfie: null,\r\n      },\r\n      //data form valid atau tidak\r\n      formIsValid: {\r\n        name: null,\r\n        nik: null,\r\n        confirmPassword: null,\r\n        password: null,\r\n        email: null,\r\n        phone: null,\r\n        date: null,\r\n        month: null,\r\n        year: null,\r\n        uploadKTP: null,\r\n        uploadSelfie: null,\r\n      },\r\n      //data proses validasi nama atau nik sedang dilakukan atau tidak\r\n      validation: {\r\n        name: false,\r\n        nik: false,\r\n      },\r\n      //hasil message validasi\r\n      validationMessage: {\r\n        name: \"\",\r\n        nik: \"\",\r\n        confirmPassword: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n      },\r\n      pageNumber: 1,\r\n    };\r\n  },\r\n  watch: {\r\n    //pengecekan data input user\r\n    formData: {\r\n      handler(newValue, oldValue) {\r\n        if (newValue.password != \"\") {\r\n          if (newValue.password.length < 6) {\r\n            this.formIsValid.password = false;\r\n            this.validationMessage.password = \"Password minimal 6 karakter!\";\r\n          } else {\r\n            this.formIsValid.password = true;\r\n            this.validationMessage.password = \"\";\r\n          }\r\n        } else {\r\n          this.formIsValid.password = null;\r\n          this.validationMessage.password = \"\";\r\n        }\r\n        if (newValue.password != \"\" && newValue.confirmPassword != \"\") {\r\n          if (newValue.password === newValue.confirmPassword) {\r\n            this.formIsValid.confirmPassword = true;\r\n            this.validationMessage.confirmPassword = \"\";\r\n          } else {\r\n            this.formIsValid.confirmPassword = false;\r\n            this.validationMessage.confirmPassword = \"Password harus sama!\";\r\n          }\r\n        }\r\n        if (newValue.email != \"\") {\r\n          if (newValue.email.includes(\"@\")) {\r\n            this.formIsValid.email = true;\r\n            this.validationMessage.email = \"\";\r\n          } else {\r\n            this.formIsValid.email = false;\r\n            this.validationMessage.email = \"Format email tidak valid!\";\r\n          }\r\n        } else {\r\n          if (oldValue.email != \"\") {\r\n            this.validationMessage.email = \"\";\r\n            this.formIsValid.email = false;\r\n          }\r\n        }\r\n\r\n        if (newValue.nik != \"\") {\r\n          this.formData.nik = newValue.nik.replace(/\\D+/g, \"\");\r\n        }\r\n\r\n        if (newValue.phone != \"\") {\r\n          this.formData.phone = newValue.phone.replace(/\\D+/g, \"\");\r\n          this.formIsValid.phone = true;\r\n        } else {\r\n          if (oldValue.phone != \"\") {\r\n            this.formIsValid.phone = false;\r\n          }\r\n        }\r\n\r\n        if (newValue.date.date != \"\") {\r\n          this.formIsValid.date = true;\r\n          if (isNaN(parseInt(newValue.date.date))) {\r\n            this.formData.date.date = newValue.date.month.replace(/\\D+/g, \"\");\r\n          }\r\n        } else {\r\n          if (oldValue.date.date != \"\") {\r\n            this.formIsValid.date = true;\r\n          }\r\n        }\r\n\r\n        if (newValue.date.month != \"\") {\r\n          this.formIsValid.month = true;\r\n          if (isNaN(parseInt(newValue.date.month))) {\r\n            this.formData.date.month = newValue.date.month.replace(/\\D+/g, \"\");\r\n          }\r\n        } else {\r\n          if (oldValue.date.month != \"\") {\r\n            this.formIsValid.month = false;\r\n          }\r\n        }\r\n\r\n        if (newValue.date.year != \"\") {\r\n          if (isNaN(parseInt(newValue.date.year))) {\r\n            this.formData.date.year = newValue.date.year.replace(/\\D+/g, \"\");\r\n          }\r\n          if (newValue.date.year.length < 3) {\r\n            this.formIsValid.year = false;\r\n          } else {\r\n            this.formIsValid.year = true;\r\n          }\r\n        } else {\r\n          if (oldValue.date.year != \"\") {\r\n            this.formIsValid.year = false;\r\n          }\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    putKTPImage(item) {\r\n      this.formData.uploadKTP = item.file;\r\n      this.formIsValid.uploadKTP = true;\r\n    },\r\n    removeKTPImage() {\r\n      this.formData.uploadKTP = null;\r\n      this.formIsValid.uploadKTP = false;\r\n    },\r\n    putSelfieImage(item) {\r\n      this.formData.uploadSelfie = item.file;\r\n      this.formIsValid.uploadSelfie = true;\r\n    },\r\n    removeSelfieImage() {\r\n      this.formData.uploadSelfie = null;\r\n      this.formData.uploadSelfie = false;\r\n    },\r\n    submitFormDisabled() {\r\n      if (\r\n        this.formIsValid.uploadKTP &&\r\n        this.formIsValid.uploadSelfie &&\r\n        this.formData.isAgree\r\n      ) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    validationMonth() {\r\n      const month = parseInt(this.formData.date.month);\r\n      if (!isNaN(month)) {\r\n        if (month > 12) {\r\n          this.formData.date.month = \"12\";\r\n        } else if (month < 10) {\r\n          this.formData.date.month = \"0\" + month;\r\n        } else {\r\n          this.formData.date.month = month.toString();\r\n        }\r\n        this.validationDate();\r\n      }\r\n    },\r\n    validationDate() {\r\n      const date = parseInt(this.formData.date.date);\r\n      const month = parseInt(this.formData.date.month);\r\n      let maxDate = null;\r\n      if (!isNaN(date)) {\r\n        if (\r\n          month == 1 ||\r\n          month == 3 ||\r\n          month == 5 ||\r\n          month == 7 ||\r\n          month == 8 ||\r\n          month == 10 ||\r\n          month == 12\r\n        ) {\r\n          if (date > 31) {\r\n            maxDate = 31;\r\n          }\r\n        } else if (month == 2) {\r\n          if (date > 28) {\r\n            maxDate = 28;\r\n          }\r\n        } else {\r\n          if (date > 30) {\r\n            maxDate = 30;\r\n          }\r\n        }\r\n\r\n        if (date < 10) {\r\n          if (date == 0) {\r\n            this.formData.date.date = \"01\";\r\n          } else {\r\n            this.formData.date.date = \"0\" + date;\r\n          }\r\n        } else {\r\n          if (maxDate != null) {\r\n            if (date <= maxDate) {\r\n              this.formData.date.date = date.toString();\r\n            } else {\r\n              this.formData.date.date = maxDate.toString();\r\n            }\r\n          } else {\r\n            this.formData.date.date = date.toString();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    nextPage() {\r\n      this.pageNumber = 2;\r\n    },\r\n    previousPage() {\r\n      this.pageNumber = 1;\r\n    },\r\n    //proses validasi nama\r\n    nameTyping() {\r\n      this.validation.name = true;\r\n      this.nameNIKValidation();\r\n    },\r\n    //proses validasi nik\r\n    nikTyping() {\r\n      this.validation.nik = true;\r\n      this.nameNIKValidation();\r\n    },\r\n    //proses validasi nik dan nama\r\n    nameNIKValidation() {\r\n      const data = {\r\n        name: this.formData.name,\r\n        nik: this.formData.nik,\r\n      };\r\n      const config = {\r\n        method: \"post\",\r\n        url: this.$site_url + \"/member/nik_validation\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n        data: data,\r\n      };\r\n      if (data.name != \"\" && data.nik != \"\" && data.nik.length == 16) {\r\n        axios(config)\r\n          .then((response) => {\r\n            this.validation.name = false;\r\n            this.validation.nik = false;\r\n\r\n            this.formIsValid.name = false;\r\n            this.formIsValid.nik = false;\r\n\r\n            const message = response.data.message;\r\n            const status = response.data.status;\r\n            console.log(status);\r\n            if (status.toLowerCase() == \"ok\") {\r\n              this.validationMessage.name = \"NIK dan Nama valid\";\r\n              this.validationMessage.nik = \"\";\r\n              this.formIsValid.name = true;\r\n              this.formIsValid.nik = true;\r\n              console.log(this.formIsValid);\r\n            } else {\r\n              this.validationMessage.name = message;\r\n              this.validationMessage.nik = \"\";\r\n              this.formIsValid.name = false;\r\n              this.formIsValid.nik = false;\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        if (data.name == \"\") {\r\n          this.formIsValid.name = false;\r\n          this.validationMessage.name = \"Nama wajib diisi!\";\r\n        } else {\r\n          this.formIsValid.name = null;\r\n          this.validationMessage.name = \"\";\r\n        }\r\n\r\n        if (data.nik == \"\") {\r\n          this.formIsValid.nik = false;\r\n          this.validationMessage.nik = \"NIK wajib diisi!\";\r\n        } else {\r\n          if (data.nik.length < 16) {\r\n            this.formIsValid.nik = false;\r\n            this.validationMessage.nik = \"NIK minimal 16 angka!\";\r\n          } else {\r\n            this.formIsValid.nik = null;\r\n            this.validationMessage.nik = \"\";\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //fungsi submit form\r\n    submitForm() {\r\n      const data = {\r\n        nik: this.formData.nik,\r\n        name: this.formData.name,\r\n        email: this.formData.email,\r\n        phone: this.formData.phone,\r\n        password: this.formData.password,\r\n        password_confirmation: this.formData.confirmPassword,\r\n        dob:\r\n          this.formData.date.year +\r\n          \"-\" +\r\n          this.formData.date.month +\r\n          \"-\" +\r\n          this.formData.date.date,\r\n        ktp: this.formData.uploadKTP,\r\n        selfie: this.formData.uploadSelfie,\r\n      };\r\n\r\n      const config = {\r\n        method: \"post\",\r\n        url: this.$site_url + \"/member/register\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          // \"AccessControl-Allow-Origin\": \"http://localhost:8080\"\r\n          // 'Access-Control-Allow-Origin': '*',\r\n        },\r\n        data: data,\r\n      };\r\n\r\n      axios(config)\r\n        .then((response) => {\r\n          const status = response.data.status;\r\n          if (status.toLowerCase() == \"ok\") {\r\n            // alert(\"Submit berhasil\");\r\n            this.$router.push(\"/register-success\");\r\n          } else {\r\n            alert(\"Ada error\");\r\n            const messages = response.data.message.split(\",\");\r\n            console.log(messages);\r\n            messages.forEach((message) => {\r\n              if (\r\n                message.toLowerCase().includes(\"name\") ||\r\n                message.toLowerCase().includes(\"nama\")\r\n              ) {\r\n                this.validationMessage.name = message;\r\n              }\r\n              if (message.toLowerCase().includes(\"nik\")) {\r\n                this.validationMessage.nik = message;\r\n              }\r\n              if (message.toLowerCase().includes(\"email\")) {\r\n                this.validationMessage.email = message;\r\n              }\r\n              if (\r\n                message.toLowerCase().includes(\"phone\") ||\r\n                message.toLowerCase().includes(\"telepon\") ||\r\n                message.toLowerCase().includes(\"number\")\r\n              ) {\r\n                this.validationMessage.phone = message;\r\n              }\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}