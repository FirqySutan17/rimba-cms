{"ast":null,"code":"import Vue from 'vue';\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_';\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36;\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0â€“9 and a-z.\n  url += i.toString(36);\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36;\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase();\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nvar nonSecure = function (size) {\n  var id = '';\n  i = size || 21;\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0];\n  }\n  return id;\n};\nvar id = nonSecure;\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nvar config = {\n  selector: \"vue-portal-target-\".concat(id())\n};\nvar setSelector = function setSelector(selector) {\n  return config.selector = selector;\n};\nvar isBrowser = typeof window !== 'undefined' && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== undefined;\nvar TargetContainer = Vue.extend({\n  // as an abstract component, it doesn't appear in\n  // the $parent chain of components.\n  // which means the next parent of any component rendered inside of this oen\n  // will be the parent from which is was portal'd\n  abstract: true,\n  name: 'PortalOutlet',\n  props: ['nodes', 'tag'],\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  render: function render(h) {\n    var nodes = this.updatedNodes && this.updatedNodes();\n    if (!nodes) {\n      return h();\n    }\n    return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag || 'DIV', nodes);\n  },\n  destroyed: function destroyed() {\n    var el = this.$el;\n    el.parentNode.removeChild(el);\n  }\n});\nvar Portal = Vue.extend({\n  name: 'VueSimplePortal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    prepend: {\n      type: Boolean\n    },\n    selector: {\n      type: String,\n      default: function _default() {\n        return \"#\".concat(config.selector);\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    }\n  },\n  render: function render(h) {\n    if (this.disabled) {\n      var nodes = this.$scopedSlots && this.$scopedSlots.default();\n      if (!nodes) {\n        return h();\n      }\n      return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag, nodes);\n    }\n    return h();\n  },\n  created: function created() {\n    if (!this.getTargetEl()) {\n      this.insertTargetEl();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    // We only update the target container component\n    // if the scoped slot function is a fresh one\n    // The new slot syntax (since Vue 2.6) can cache unchanged slot functions\n    // and we want to respect that here.\n    this.$nextTick(function () {\n      if (!_this.disabled && _this.slotFn !== _this.$scopedSlots.default) {\n        _this.container.updatedNodes = _this.$scopedSlots.default;\n      }\n      _this.slotFn = _this.$scopedSlots.default;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmount();\n  },\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmount() : this.$nextTick(this.mount);\n      }\n    }\n  },\n  methods: {\n    // This returns the element into which the content should be mounted.\n    getTargetEl: function getTargetEl() {\n      if (!isBrowser) {\n        return;\n      }\n      return document.querySelector(this.selector);\n    },\n    insertTargetEl: function insertTargetEl() {\n      if (!isBrowser) {\n        return;\n      }\n      var parent = document.querySelector('body');\n      var child = document.createElement(this.tag);\n      child.id = this.selector.substring(1);\n      parent.appendChild(child);\n    },\n    mount: function mount() {\n      var targetEl = this.getTargetEl();\n      var el = document.createElement('DIV');\n      if (this.prepend && targetEl.firstChild) {\n        targetEl.insertBefore(el, targetEl.firstChild);\n      } else {\n        targetEl.appendChild(el);\n      }\n      this.container = new TargetContainer({\n        el: el,\n        parent: this,\n        propsData: {\n          tag: this.tag,\n          nodes: this.$scopedSlots.default\n        }\n      });\n    },\n    unmount: function unmount() {\n      if (this.container) {\n        this.container.$destroy();\n        delete this.container;\n      }\n    }\n  }\n});\nfunction install(_Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  _Vue.component(options.name || 'portal', Portal);\n  if (options.defaultSelector) {\n    setSelector(options.defaultSelector);\n  }\n}\nif (typeof window !== 'undefined' && window.Vue && window.Vue === Vue) {\n  // plugin was inlcuded directly in a browser\n  Vue.use(install);\n}\n\n//\n\nvar TYPE_CSS = {\n  type: [String, Object, Array],\n  default: ''\n};\nvar FOCUSABLE_ELEMENTS = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex=\"-1\"])';\nvar animatingZIndex = 0;\nvar script = {\n  name: 'VueModal',\n  components: {\n    Portal: Portal\n  },\n  model: {\n    prop: 'basedOn',\n    event: 'close'\n  },\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    baseZindex: {\n      type: Number,\n      default: 1051\n    },\n    bgClass: TYPE_CSS,\n    wrapperClass: TYPE_CSS,\n    modalClass: TYPE_CSS,\n    modalStyle: TYPE_CSS,\n    inClass: Object.assign({}, TYPE_CSS, {\n      default: 'vm-fadeIn'\n    }),\n    outClass: Object.assign({}, TYPE_CSS, {\n      default: 'vm-fadeOut'\n    }),\n    bgInClass: Object.assign({}, TYPE_CSS, {\n      default: 'vm-fadeIn'\n    }),\n    bgOutClass: Object.assign({}, TYPE_CSS, {\n      default: 'vm-fadeOut'\n    }),\n    appendTo: {\n      type: String,\n      default: 'body'\n    },\n    live: {\n      type: Boolean,\n      default: false\n    },\n    enableClose: {\n      type: Boolean,\n      default: true\n    },\n    basedOn: {\n      type: Boolean,\n      default: false\n    },\n    closeLabel: {\n      type: String,\n      default: 'Close'\n    }\n  },\n  data: function data() {\n    return {\n      zIndex: 0,\n      id: null,\n      show: false,\n      mount: false,\n      elToFocus: null\n    };\n  },\n  created: function created() {\n    if (this.live) {\n      this.mount = true;\n    }\n  },\n  mounted: function mounted() {\n    this.id = 'vm-' + this._uid;\n    this.$watch('basedOn', function (newVal) {\n      var this$1$1 = this;\n      if (newVal) {\n        this.mount = true;\n        this.$nextTick(function () {\n          this$1$1.show = true;\n        });\n      } else {\n        this.show = false;\n      }\n    }, {\n      immediate: true\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.elToFocus = null;\n  },\n  methods: {\n    close: function close() {\n      if (this.enableClose === true) {\n        this.$emit('close', false);\n      }\n    },\n    clickOutside: function clickOutside(e) {\n      if (e.target === this.$refs['vm-wrapper']) {\n        this.close();\n      }\n    },\n    keydown: function keydown(e) {\n      if (e.which === 27 || e.keyCode === 27) {\n        this.close();\n      }\n      if (e.which === 9 || e.keyCode === 9) {\n        // Get only visible elements\n        var all = [].slice.call(this.$refs['vm-wrapper'].querySelectorAll(FOCUSABLE_ELEMENTS)).filter(function (el) {\n          return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n        });\n        if (e.shiftKey) {\n          if (e.target === all[0] || e.target === this.$refs['vm-wrapper']) {\n            e.preventDefault();\n            all[all.length - 1].focus();\n          }\n        } else {\n          if (e.target === all[all.length - 1]) {\n            e.preventDefault();\n            all[0].focus();\n          }\n        }\n      }\n    },\n    getAllVisibleWrappers: function getAllVisibleWrappers() {\n      return [].slice.call(document.querySelectorAll('[data-vm-wrapper-id]')).filter(function (w) {\n        return w.display !== 'none';\n      });\n    },\n    getTopZindex: function getTopZindex() {\n      return this.getAllVisibleWrappers().reduce(function (acc, curr) {\n        return parseInt(curr.style.zIndex) > acc ? parseInt(curr.style.zIndex) : acc;\n      }, 0);\n    },\n    handleFocus: function handleFocus(wrapper) {\n      var autofocus = wrapper.querySelector('[autofocus]');\n      if (autofocus) {\n        autofocus.focus();\n      } else {\n        var focusable = wrapper.querySelectorAll(FOCUSABLE_ELEMENTS);\n        focusable.length ? focusable[0].focus() : wrapper.focus();\n      }\n    },\n    beforeOpen: function beforeOpen() {\n      // console.log('beforeOpen');\n      this.elToFocus = document.activeElement;\n      var lastZindex = this.getTopZindex();\n      if (animatingZIndex) {\n        this.zIndex = animatingZIndex + 2;\n      } else {\n        this.zIndex = lastZindex === 0 ? this.baseZindex : lastZindex + 2;\n      }\n      animatingZIndex = this.zIndex;\n      this.$emit('before-open');\n    },\n    opening: function opening() {\n      // console.log('opening');\n      this.$emit('opening');\n    },\n    afterOpen: function afterOpen() {\n      // console.log('afterOpen');\n      this.handleFocus(this.$refs['vm-wrapper']);\n      this.$emit('after-open');\n    },\n    beforeClose: function beforeClose() {\n      // console.log('beforeClose');\n      this.$emit('before-close');\n    },\n    closing: function closing() {\n      // console.log('closing');\n      this.$emit('closing');\n    },\n    afterClose: function afterClose() {\n      var this$1$1 = this;\n\n      // console.log('afterClose');\n      this.zIndex = 0;\n      if (!this.live) {\n        this.mount = false;\n      }\n      this.$nextTick(function () {\n        window.requestAnimationFrame(function () {\n          var lastZindex = this$1$1.getTopZindex();\n          if (lastZindex > 0) {\n            var all = this$1$1.getAllVisibleWrappers();\n            for (var i = 0; i < all.length; i++) {\n              var wrapper = all[i];\n              if (parseInt(wrapper.style.zIndex) === lastZindex) {\n                if (wrapper.contains(this$1$1.elToFocus)) {\n                  this$1$1.elToFocus.focus();\n                } else {\n                  // console.log(wrapper);\n                  this$1$1.handleFocus(wrapper);\n                }\n                break;\n              }\n            }\n          } else {\n            if (document.body.contains(this$1$1.elToFocus)) {\n              this$1$1.elToFocus.focus();\n            }\n          }\n          animatingZIndex = 0;\n          this$1$1.$emit('after-close');\n        });\n      });\n    }\n  }\n};\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  }\n  // Vue.extend constructor export interop.\n  var options = typeof script === 'function' ? script.options : script;\n  // render functions\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true;\n    // functional template\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  }\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context = context ||\n      // cached call\n      this.$vnode && this.$vnode.ssrContext ||\n      // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      // inject component styles\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      }\n      // register component module identifier for async chunk inference\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function (context) {\n      style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return script;\n}\n\n/* script */\nvar __vue_script__ = script;\n/* template */\nvar __vue_render__ = function () {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _vm.mount ? _c(\"portal\", {\n    attrs: {\n      selector: _vm.appendTo\n    }\n  }, [_c(\"transition\", {\n    attrs: {\n      name: \"vm-backdrop-transition\",\n      \"enter-active-class\": _vm.bgInClass,\n      \"leave-active-class\": _vm.bgOutClass\n    }\n  }, [_c(\"div\", {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.show,\n      expression: \"show\"\n    }],\n    staticClass: \"vm-backdrop\",\n    class: _vm.bgClass,\n    style: {\n      \"z-index\": _vm.zIndex - 1\n    },\n    attrs: {\n      \"data-vm-backdrop-id\": _vm.id\n    }\n  })]), _vm._v(\" \"), _c(\"transition\", {\n    attrs: {\n      name: \"vm-transition\",\n      \"enter-active-class\": _vm.inClass,\n      \"leave-active-class\": _vm.outClass\n    },\n    on: {\n      \"before-enter\": _vm.beforeOpen,\n      enter: _vm.opening,\n      \"after-enter\": _vm.afterOpen,\n      \"before-leave\": _vm.beforeClose,\n      leave: _vm.closing,\n      \"after-leave\": _vm.afterClose\n    }\n  }, [_c(\"div\", {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.show,\n      expression: \"show\"\n    }],\n    ref: \"vm-wrapper\",\n    staticClass: \"vm-wrapper\",\n    class: _vm.wrapperClass,\n    style: {\n      \"z-index\": _vm.zIndex,\n      cursor: _vm.enableClose ? \"pointer\" : \"default\"\n    },\n    attrs: {\n      \"data-vm-wrapper-id\": _vm.id,\n      tabindex: \"-1\",\n      role: \"dialog\",\n      \"aria-label\": _vm.title,\n      \"aria-modal\": \"true\",\n      \"aria-describedby\": _vm.id + \"-content\",\n      \"aria-labelledby\": _vm.id + \"-title\"\n    },\n    on: {\n      click: function ($event) {\n        return _vm.clickOutside($event);\n      },\n      keydown: function ($event) {\n        return _vm.keydown($event);\n      }\n    }\n  }, [_c(\"div\", {\n    ref: \"vm\",\n    staticClass: \"vm\",\n    class: _vm.modalClass,\n    style: _vm.modalStyle,\n    attrs: {\n      \"data-vm-id\": _vm.id\n    }\n  }, [_vm._t(\"titlebar\", function () {\n    return [_c(\"div\", {\n      staticClass: \"vm-titlebar\"\n    }, [_c(\"h3\", {\n      staticClass: \"vm-title\",\n      attrs: {\n        id: _vm.id + \"-title\"\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(_vm.title) + \"\\n            \")]), _vm._v(\" \"), _vm.enableClose ? _c(\"button\", {\n      staticClass: \"vm-btn-close\",\n      attrs: {\n        type: \"button\",\n        \"aria-label\": _vm.closeLabel\n      },\n      on: {\n        click: function ($event) {\n          $event.preventDefault();\n          return _vm.close.apply(null, arguments);\n        }\n      }\n    }) : _vm._e()])];\n  }), _vm._v(\" \"), _vm._t(\"content\", function () {\n    return [_c(\"div\", {\n      staticClass: \"vm-content\",\n      attrs: {\n        id: _vm.id + \"-content\"\n      }\n    }, [_vm._t(\"default\")], 2)];\n  })], 2)])])], 1) : _vm._e();\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n/* style */\nvar __vue_inject_styles__ = undefined;\n/* scoped */\nvar __vue_scope_id__ = undefined;\n/* module identifier */\nvar __vue_module_identifier__ = undefined;\n/* functional template */\nvar __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = /*#__PURE__*/normalizeComponent({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, undefined, undefined, undefined);\nexport { __vue_component__ as default };","map":{"version":3,"mappings":"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,EAAE;EAEpFF,IAAI,CAACG,SAAS,CAACF,OAAO,CAACrD,IAAI,IAAI,QAAQ,EAAEgB,MAAM,CAAC;EAEhD,IAAIqC,OAAO,CAACG,eAAe,EAAE;IAC3BjE,WAAW,CAAC8D,OAAO,CAACG,eAAe,CAAC;EACxC;AACA;AAEA,IAAI,OAAO/D,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACI,GAAG,IAAIJ,MAAM,CAACI,GAAG,KAAKA,GAAG,EAAE;EACvE;EACEA,GAAG,CAAC4D,GAAG,CAACN,OAAO,CAAC;AAClB;;;;ACxGAO;EACAxC;EACAI;AACA;AACAoC,yBACA;AACAC;AAEA;EACA3D;EACA4D;IACA5C;EACA;EACA6C;IACAC;IACAC;EACA;EACA9D;IACA+D;MACA9C;MACAI;IACA;IACA2C;MACA/C;MACAI;IACA;IACA4C;IACAC;IACAC;IACAC;IACAC;MAAAhD;IAAA;IACAiD;MAAAjD;IAAA;IACAkD;MAAAlD;IAAA;IACAmD;MAAAnD;IAAA;IACAoD;MACAxD;MACAI;IACA;IACAqD;MACAzD;MACAI;IACA;IACAsD;MACA1D;MACAI;IACA;IACAuD;MACA3D;MACAI;IACA;IACAwD;MACA5D;MACAI;IACA;EACA;EACApB;IACA;MACA6E;MACApG;MACAqG;MACA1C;MACA2C;IACA;EACA;EACAxD;IACA;MACA;IACA;EACA;EACAyD;IACA;IACA,YACA,WACA;;MACA;QACA;QACA;UACAC;QACA;MACA;QACA;MACA;IACA,GACA;MACA/C;IACA,EACA;EACA;EACAH;IACA;EACA;EACAM;IACA6C;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA;QACA5B;UACA;QACA;QAEA;UACA;YACA6B;YACAC;UACA;QACA;UACA;YACAD;YACAC;UACA;QACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACAjC;MAEA;QACAkC;MACA;QACAlC;QAEAmC;MACA;IACA;IACAC;MACA;MACA;MAC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","names":["url","i","toString","toUpperCase","nonSecure","size","id","Math","random","_typeof","obj","Symbol","iterator","constructor","prototype","config","selector","concat","setSelector","isBrowser","window","document","undefined","TargetContainer","Vue","extend","abstract","name","props","data","vm","updatedNodes","nodes","render","h","length","text","tag","destroyed","el","$el","parentNode","removeChild","Portal","disabled","type","Boolean","prepend","String","default","_default","$scopedSlots","created","getTargetEl","insertTargetEl","updated","_this","$nextTick","slotFn","container","beforeDestroy","unmount","watch","immediate","handler","mount","methods","querySelector","parent","child","createElement","substring","appendChild","targetEl","firstChild","insertBefore","propsData","$destroy","install","_Vue","options","arguments","component","defaultSelector","use","const","let","components","model","prop","event","title","baseZindex","bgClass","wrapperClass","modalClass","modalStyle","inClass","outClass","bgInClass","bgOutClass","appendTo","live","enableClose","basedOn","closeLabel","zIndex","show","elToFocus","mounted","this","close","clickOutside","keydown","e","all","getAllVisibleWrappers","getTopZindex","handleFocus","autofocus","focusable","beforeOpen","animatingZIndex","opening","afterOpen","beforeClose","closing","afterClose","normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","renderWithStyleInjection","existing","beforeCreate","__vue_script__"],"sources":["../node_modules/nanoid/non-secure/index.js","../node_modules/@linusborg/vue-simple-portal/dist/index.mjs","../src/Modal.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.mjs"],"sourcesContent":["// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0â€“9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","\n/**\n * vue-simple-portal\n * version: 0.1.4,\n * (c) Thorsten LÃ¼nborg, 2019\n * LICENCE: Apache-2.0\n * http://github.com/linusborg/vue-simple-portal\n*/\nimport Vue from 'vue';\nimport id from 'nanoid/non-secure';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar config = {\n  selector: \"vue-portal-target-\".concat(id())\n};\nvar setSelector = function setSelector(selector) {\n  return config.selector = selector;\n};\nvar isBrowser = typeof window !== 'undefined' && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== undefined;\n\nvar TargetContainer = Vue.extend({\n  // as an abstract component, it doesn't appear in\n  // the $parent chain of components.\n  // which means the next parent of any component rendered inside of this oen\n  // will be the parent from which is was portal'd\n  abstract: true,\n  name: 'PortalOutlet',\n  props: ['nodes', 'tag'],\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  render: function render(h) {\n    var nodes = this.updatedNodes && this.updatedNodes();\n    if (!nodes) return h();\n    return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag || 'DIV', nodes);\n  },\n  destroyed: function destroyed() {\n    var el = this.$el;\n    el.parentNode.removeChild(el);\n  }\n});\n\nvar Portal = Vue.extend({\n  name: 'VueSimplePortal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    prepend: {\n      type: Boolean\n    },\n    selector: {\n      type: String,\n      default: function _default() {\n        return \"#\".concat(config.selector);\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    }\n  },\n  render: function render(h) {\n    if (this.disabled) {\n      var nodes = this.$scopedSlots && this.$scopedSlots.default();\n      if (!nodes) return h();\n      return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag, nodes);\n    }\n\n    return h();\n  },\n  created: function created() {\n    if (!this.getTargetEl()) {\n      this.insertTargetEl();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    // We only update the target container component\n    // if the scoped slot function is a fresh one\n    // The new slot syntax (since Vue 2.6) can cache unchanged slot functions\n    // and we want to respect that here.\n    this.$nextTick(function () {\n      if (!_this.disabled && _this.slotFn !== _this.$scopedSlots.default) {\n        _this.container.updatedNodes = _this.$scopedSlots.default;\n      }\n\n      _this.slotFn = _this.$scopedSlots.default;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmount();\n  },\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmount() : this.$nextTick(this.mount);\n      }\n    }\n  },\n  methods: {\n    // This returns the element into which the content should be mounted.\n    getTargetEl: function getTargetEl() {\n      if (!isBrowser) return;\n      return document.querySelector(this.selector);\n    },\n    insertTargetEl: function insertTargetEl() {\n      if (!isBrowser) return;\n      var parent = document.querySelector('body');\n      var child = document.createElement(this.tag);\n      child.id = this.selector.substring(1);\n      parent.appendChild(child);\n    },\n    mount: function mount() {\n      var targetEl = this.getTargetEl();\n      var el = document.createElement('DIV');\n\n      if (this.prepend && targetEl.firstChild) {\n        targetEl.insertBefore(el, targetEl.firstChild);\n      } else {\n        targetEl.appendChild(el);\n      }\n\n      this.container = new TargetContainer({\n        el: el,\n        parent: this,\n        propsData: {\n          tag: this.tag,\n          nodes: this.$scopedSlots.default\n        }\n      });\n    },\n    unmount: function unmount() {\n      if (this.container) {\n        this.container.$destroy();\n        delete this.container;\n      }\n    }\n  }\n});\n\nfunction install(_Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _Vue.component(options.name || 'portal', Portal);\n\n  if (options.defaultSelector) {\n    setSelector(options.defaultSelector);\n  }\n}\n\nif (typeof window !== 'undefined' && window.Vue && window.Vue === Vue) {\n  // plugin was inlcuded directly in a browser\n  Vue.use(install);\n}\n\nexport default install;\nexport { Portal, config, setSelector };\n","<template>\n  <portal v-if=\"mount\" :selector=\"appendTo\">\n    <transition name=\"vm-backdrop-transition\" :enter-active-class=\"bgInClass\" :leave-active-class=\"bgOutClass\">\n      <div\n        v-show=\"show\"\n        :data-vm-backdrop-id=\"id\"\n        class=\"vm-backdrop\"\n        :class=\"bgClass\"\n        :style=\"{ 'z-index': zIndex - 1 }\"\n      ></div>\n    </transition>\n    <transition\n      name=\"vm-transition\"\n      :enter-active-class=\"inClass\"\n      :leave-active-class=\"outClass\"\n      @before-enter=\"beforeOpen\"\n      @enter=\"opening\"\n      @after-enter=\"afterOpen\"\n      @before-leave=\"beforeClose\"\n      @leave=\"closing\"\n      @after-leave=\"afterClose\"\n    >\n      <div\n        v-show=\"show\"\n        ref=\"vm-wrapper\"\n        :data-vm-wrapper-id=\"id\"\n        tabindex=\"-1\"\n        class=\"vm-wrapper\"\n        :class=\"wrapperClass\"\n        :style=\"{ 'z-index': zIndex, cursor: enableClose ? 'pointer' : 'default' }\"\n        role=\"dialog\"\n        :aria-label=\"title\"\n        aria-modal=\"true\"\n        :aria-describedby=\"`${id}-content`\"\n        :aria-labelledby=\"`${id}-title`\"\n        @click=\"clickOutside($event)\"\n        @keydown=\"keydown($event)\"\n      >\n        <div ref=\"vm\" class=\"vm\" :data-vm-id=\"id\" :class=\"modalClass\" :style=\"modalStyle\">\n          <slot name=\"titlebar\">\n            <div class=\"vm-titlebar\">\n              <h3 :id=\"`${id}-title`\" class=\"vm-title\">\n                {{ title }}\n              </h3>\n              <button\n                v-if=\"enableClose\"\n                type=\"button\"\n                class=\"vm-btn-close\"\n                :aria-label=\"closeLabel\"\n                @click.prevent=\"close\"\n              ></button>\n            </div>\n          </slot>\n          <slot name=\"content\">\n            <div :id=\"`${id}-content`\" class=\"vm-content\">\n              <slot></slot>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </transition>\n  </portal>\n</template>\n\n<script>\nimport { Portal } from '@linusborg/vue-simple-portal'\n\nconst TYPE_CSS = {\n  type: [String, Object, Array],\n  default: ''\n}\nconst FOCUSABLE_ELEMENTS =\n  'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\nlet animatingZIndex = 0\n\nexport default {\n  name: 'VueModal',\n  components: {\n    Portal\n  },\n  model: {\n    prop: 'basedOn',\n    event: 'close'\n  },\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    baseZindex: {\n      type: Number,\n      default: 1051\n    },\n    bgClass: TYPE_CSS,\n    wrapperClass: TYPE_CSS,\n    modalClass: TYPE_CSS,\n    modalStyle: TYPE_CSS,\n    inClass: Object.assign({}, TYPE_CSS, { default: 'vm-fadeIn' }),\n    outClass: Object.assign({}, TYPE_CSS, { default: 'vm-fadeOut' }),\n    bgInClass: Object.assign({}, TYPE_CSS, { default: 'vm-fadeIn' }),\n    bgOutClass: Object.assign({}, TYPE_CSS, { default: 'vm-fadeOut' }),\n    appendTo: {\n      type: String,\n      default: 'body'\n    },\n    live: {\n      type: Boolean,\n      default: false\n    },\n    enableClose: {\n      type: Boolean,\n      default: true\n    },\n    basedOn: {\n      type: Boolean,\n      default: false\n    },\n    closeLabel: {\n      type: String,\n      default: 'Close'\n    }\n  },\n  data() {\n    return {\n      zIndex: 0,\n      id: null,\n      show: false,\n      mount: false,\n      elToFocus: null\n    }\n  },\n  created() {\n    if (this.live) {\n      this.mount = true\n    }\n  },\n  mounted() {\n    this.id = 'vm-' + this._uid\n    this.$watch(\n      'basedOn',\n      function (newVal) {\n        if (newVal) {\n          this.mount = true\n          this.$nextTick(() => {\n            this.show = true\n          })\n        } else {\n          this.show = false\n        }\n      },\n      {\n        immediate: true\n      }\n    )\n  },\n  beforeDestroy() {\n    this.elToFocus = null\n  },\n  methods: {\n    close() {\n      if (this.enableClose === true) {\n        this.$emit('close', false)\n      }\n    },\n    clickOutside(e) {\n      if (e.target === this.$refs['vm-wrapper']) {\n        this.close()\n      }\n    },\n    keydown(e) {\n      if (e.which === 27 || e.keyCode === 27) {\n        this.close()\n      }\n      if (e.which === 9 || e.keyCode === 9) {\n        // Get only visible elements\n        const all = [].slice.call(this.$refs['vm-wrapper'].querySelectorAll(FOCUSABLE_ELEMENTS)).filter(function (el) {\n          return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\n        })\n\n        if (e.shiftKey) {\n          if (e.target === all[0] || e.target === this.$refs['vm-wrapper']) {\n            e.preventDefault()\n            all[all.length - 1].focus()\n          }\n        } else {\n          if (e.target === all[all.length - 1]) {\n            e.preventDefault()\n            all[0].focus()\n          }\n        }\n      }\n    },\n    getAllVisibleWrappers() {\n      return [].slice.call(document.querySelectorAll('[data-vm-wrapper-id]')).filter((w) => w.display !== 'none')\n    },\n    getTopZindex() {\n      return this.getAllVisibleWrappers().reduce((acc, curr) => {\n        return parseInt(curr.style.zIndex) > acc ? parseInt(curr.style.zIndex) : acc\n      }, 0)\n    },\n    handleFocus(wrapper) {\n      const autofocus = wrapper.querySelector('[autofocus]')\n\n      if (autofocus) {\n        autofocus.focus()\n      } else {\n        const focusable = wrapper.querySelectorAll(FOCUSABLE_ELEMENTS)\n\n        focusable.length ? focusable[0].focus() : wrapper.focus()\n      }\n    },\n    beforeOpen() {\n      // console.log('beforeOpen');\n      this.elToFocus = document.activeElement\n      const lastZindex = this.getTopZindex()\n\n      if (animatingZIndex) {\n        this.zIndex = animatingZIndex + 2\n      } else {\n        this.zIndex = lastZindex === 0 ? this.baseZindex : lastZindex + 2\n      }\n      animatingZIndex = this.zIndex\n      this.$emit('before-open')\n    },\n    opening() {\n      // console.log('opening');\n      this.$emit('opening')\n    },\n    afterOpen() {\n      // console.log('afterOpen');\n      this.handleFocus(this.$refs['vm-wrapper'])\n      this.$emit('after-open')\n    },\n    beforeClose() {\n      // console.log('beforeClose');\n      this.$emit('before-close')\n    },\n    closing() {\n      // console.log('closing');\n      this.$emit('closing')\n    },\n    afterClose() {\n      // console.log('afterClose');\n      this.zIndex = 0\n      if (!this.live) {\n        this.mount = false\n      }\n      this.$nextTick(() => {\n        window.requestAnimationFrame(() => {\n          const lastZindex = this.getTopZindex()\n\n          if (lastZindex > 0) {\n            const all = this.getAllVisibleWrappers()\n\n            for (let i = 0; i < all.length; i++) {\n              const wrapper = all[i]\n\n              if (parseInt(wrapper.style.zIndex) === lastZindex) {\n                if (wrapper.contains(this.elToFocus)) {\n                  this.elToFocus.focus()\n                } else {\n                  // console.log(wrapper);\n                  this.handleFocus(wrapper)\n                }\n                break\n              }\n            }\n          } else {\n            if (document.body.contains(this.elToFocus)) {\n              this.elToFocus.focus()\n            }\n          }\n          animatingZIndex = 0\n          this.$emit('after-close')\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.vm-backdrop {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.vm-wrapper {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: 0;\n}\n.vm {\n  position: relative;\n  margin: 0px auto;\n  width: calc(100% - 20px);\n  min-width: 110px;\n  max-width: 500px;\n  background-color: #fff;\n  top: 30px;\n  cursor: default;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n}\n.vm-titlebar {\n  padding: 10px 15px 10px 15px;\n  overflow: auto;\n  border-bottom: 1px solid #e5e5e5;\n}\n.vm-title {\n  margin-top: 2px;\n  margin-bottom: 0px;\n  display: inline-block;\n  font-size: 18px;\n  font-weight: normal;\n}\n.vm-btn-close {\n  color: #ccc;\n  padding: 0px;\n  cursor: pointer;\n  background: 0 0;\n  border: 0;\n  float: right;\n  font-size: 24px;\n  line-height: 1em;\n}\n.vm-btn-close:before {\n  content: 'Ã—';\n  font-family: Arial;\n}\n.vm-btn-close:hover,\n.vm-btn-close:focus,\n.vm-btn-close:focus:hover {\n  color: #bbb;\n  border-color: transparent;\n  background-color: transparent;\n}\n.vm-content {\n  padding: 10px 15px 15px 15px;\n}\n.vm-content .full-hr {\n  width: auto;\n  border: 0;\n  border-top: 1px solid #e5e5e5;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  margin-left: -14px;\n  margin-right: -14px;\n}\n.vm-fadeIn {\n  animation-name: vm-fadeIn;\n}\n@keyframes vm-fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n.vm-fadeOut {\n  animation-name: vm-fadeOut;\n}\n@keyframes vm-fadeOut {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n.vm-fadeIn,\n.vm-fadeOut {\n  animation-duration: 0.25s;\n  animation-fill-mode: both;\n}\n</style>\n","function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nexport default normalizeComponent;\n//# sourceMappingURL=normalize-component.mjs.map\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}